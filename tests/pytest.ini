# configure pytest for 'batch-like' mode
# for now assumes the internet.nl instance to test against is at:
#   http://internetnl-summer.do.nlnetlabs.nl:8080/
# arguments specifically set for the batch-like test are:
#   --batch-input-file      - tests this set of website domains
#   --batch-base-url        - point the tests at this internet.nl instance
#   -p no:metadata          - disable the pytest-metadata plugin
#   -k batch                - only run batch-like tests
#   selenium_exclude_debug  - disable unwanted HTML report extra data fields
[pytest]
addopts=--tb=no -vv -n 5 --driver Remote --host selenium --port 4444 --capability browserName firefox --html=/app/checks/assets/batch/report.html -k batch --batch-input-file=/tmp/batch-domains.txt --batch-base-urls=https://internet.nl/,http://internetnl-summer.do.nlnetlabs.nl:8080/ --batch-base-names="Production Instance,Demo Instance" -p no:metadata -k batch
selenium_exclude_debug=html:logs
